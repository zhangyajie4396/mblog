<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:include="resources/common/common_header :: common_header">
</head>
<body>
<div class="col-md-6 col-sm-6 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>系统状态</h2>
            <div class="clearfix"></div>
        </div>
        <div class="x_content" style="height: 231px;">
            <table class="table table-bordered">
                <tr>
                    <td>内存消耗:</td>
                    <td id="totalMemory"></td>
                </tr>
                <tr>
                    <td style="width:120px;">操作系统:</td>
                    <td id="os"></td>
                </tr>
                <tr>
                    <td style="width:120px;">JDK版本:</td>
                    <td id="version"></td>
                </tr>
                <input type="hidden"  id="data">
            </table>
        </div>
    </div>
</div>

<div class="col-md-6 col-sm-6 col-xs-12">
    <div class="x_panel">
        <div class="x_title">
            <h2>内存使用情况</h2>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <canvas id="canvas"></canvas>
        </div>
    </div>
</div>
<div th:include="resources/common/common_foot :: foot"></div>

<script>
    $(function () {
        $.ajax({
            type : 'get',
            url :'/home' ,
            dataType:'json',
            success : function(data) {
                if(!data.success){
                    showBox(data.msg, 5);
                    return;
                }else{
                    showMsgBox(data.msg, 4);
                    console.info(data);
                }
            }
        });
        
    })
    function canvas(arr) {
        var ctx = document.getElementById("canvas");
        var data = {
            labels: [
                "可用",
                "已用"
            ],
            datasets: [{
                // data: [$('#data').val(), 100-parseInt($('#data').val())],
                data:arr,
                backgroundColor: [
                    "#455C73",
                    "#9B59B6"
                ],
                hoverBackgroundColor: [
                    "#34495E",
                    "#B370CF"
                ]
            }]
        };

        var canvasDoughnut = new Chart(ctx, {
            type: 'doughnut',
            tooltipFillColor: "rgba(51, 51, 51, 0.55)",
            data: data
        });
    }
</script>
</body>
</html>